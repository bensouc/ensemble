<% last_3_wps = @previous.find { |t| t.first == plan_skill.skill_id }[1].sort_by(&:created_at) %>
<div class='d-flex justify-content-between p-2 ' data-controller='ajax-work-plan'>
  <div class="previous_eval mt-2">
    <% unless last_3_wps.count == 1 %>
      <% # 3 previous wps %>
      <% # last_wps = WorlPlanSkill %>
      <%last_3_wps.each do |wps|%>
        <% unless wps.id == plan_skill.id %>
          <div class="eval_bull <%= wps.status %> ">
            <i class="fa-solid fa-<%= wps.kind[0] %>"></i>
          </div>
        <% end %>
      <% end %>
    <% end %>
    <% # current wps %>
    <div class= 'last-eval' data-ajax-work-plan-target='lastEval' >
      <div class="eval_bull <%= plan_skill.status %>">
        <i class="fa-solid fa-<%= plan_skill.kind[0] %> "></i>
      </div>
    </div>
  </div>
  <%= render "eval_wps_mngt", plan_skill: plan_skill %>
  <div class='border-skill justify-content-between mt-2'>
    <%= plan_skill.skill.symbol %>
    <%= plan_skill.skill.name %>
  </div>
</div>
